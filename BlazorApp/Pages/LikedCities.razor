@page "/liked-cities"  
@inject BlazorApp.Services.LocalStorageServices LocalStorageServices  

<h3 class="text-center mt-4">Liked Cities</h3>  

@if (likedCities.Count == 0)  
{  
   <p class="text-center">You haven't liked any cities yet.</p>  
}  
else  
{  
   <div class="liked-cities-list">  
       @foreach (var city in likedCities)  
       {  
           <div class="card liked-city-card m-2 p-3">  
               <h5>@city</h5>  
               <button class="btn btn-danger btn-sm" @onclick="() => RemoveCity(city)">Remove</button>  
           </div>  
       }  
   </div>  
}  

@code {  
   private List<string> likedCities = new();  

   protected override void OnInitialized()  
   {  
       if (BlazorApp.Services.LocalStorageServices.TryGetLikedCities(out var storedCities))  
       {  
           likedCities = storedCities;  
       }  
   }  

   private void RemoveCity(string city)  
   {  
       likedCities.Remove(city);  
       BlazorApp.Services.LocalStorageServices.SaveLikedCities(likedCities);  
   }  
}
